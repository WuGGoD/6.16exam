{"version":3,"file":"main-C_lXLvgf.js","sources":["../../src/javascript/index.js"],"sourcesContent":["import '../fonts/iconfont.css'\r\nimport '../scss/index.scss'\r\nimport { $, $A } from './basicFn'\r\nimport axios from 'axios'\r\nimport BScroll from '@better-scroll/core'\r\n\r\n\r\n\r\nasync function render(url) {\r\n    const res = await axios.get(url)\r\n    let data = res.data.items\r\n    if ($('.asscend')) {\r\n        data = data.sort((a, b) => a.price - b.price)\r\n    }\r\n    if ($('.descend')) {\r\n        data = data.sort((a, b) => b.price - a.price)\r\n    }\r\n    $('.con').innerHTML = data.map((item, index) => `\r\n          <dl data_id=${item.item_id}>\r\n            <dt><img src=\"${item.img}\" alt=\"\"></dt>\r\n            <dd>\r\n              <h2>${item.title}</h2>\r\n              <h3>月销${item.sold}笔</h3>\r\n              <p>￥${item.price}</p>\r\n            </dd>\r\n          </dl>`).join('')\r\n    localStorage.setItem('itemOrigin', url)\r\n    new BScroll('.wrapper', {\r\n        scrollY: true,\r\n        click: true\r\n    })\r\n}\r\nrender('https://zyxcl.xyz/exam_api/zh')\r\n\r\ndocument.addEventListener('click', e => {\r\n    const target = e.target;\r\n    if (target.classList.contains('shop')) {\r\n        $('.shopActive') && $('.shopActive').classList.remove('shopActive')\r\n        target.classList.add('shopActive')\r\n    }\r\n    if (target.className === 'shop compre shopActive') {\r\n        render('https://zyxcl.xyz/exam_api/zh')\r\n    }\r\n    if (target.className === 'shop sell shopActive') {\r\n        render('https://zyxcl.xyz/exam_api/xl')\r\n    }\r\n    if (target.className === 'shop new shopActive') {\r\n        render('https://zyxcl.xyz/exam_api/sx')\r\n    }\r\n    if (target.className === 'arrange') {\r\n        if ($('.icon-gengduo-2')) {\r\n            $('.con').className = 'con grid'\r\n            $('span', target).className = 'iconfont icon-fenlei-xuanzhong'\r\n        } else {\r\n            $('.con').className = 'con list'\r\n            $('span', target).className = 'iconfont icon-gengduo-2'\r\n        }\r\n    }\r\n    if (target.nodeName === 'DL') {\r\n        localStorage.setItem('itemInfo', target.getAttribute('data_id'))\r\n        location.assign('./detail.html')\r\n    }\r\n    if (target.classList.contains('sort')) {\r\n        console.log($A('span', target)[0], $A('span', target)[1])\r\n        $('.active') && $('.active').classList.remove('active')\r\n        if ($('.asscend')) {\r\n            target.className = 'sort descend'\r\n            $A('span', target)[1].classList.add('active')\r\n            render(localStorage.getItem('itemOrigin'))\r\n            return\r\n        }\r\n        if ($('.descend')) {\r\n            target.className = 'sort'\r\n            render(localStorage.getItem('itemOrigin'))\r\n            return\r\n        }\r\n        target.className = 'sort asscend'\r\n        $A('span', target)[0].classList.add('active')\r\n        render(localStorage.getItem('itemOrigin'))\r\n    }\r\n})"],"names":["render","url","data","axios","$","b","item","index","BScroll","e","target","$A"],"mappings":"iGAQA,eAAeA,EAAOC,EAAK,CAEvB,IAAIC,GADQ,MAAMC,EAAM,IAAIF,CAAG,GAChB,KAAK,MAChBG,EAAE,UAAU,IACZF,EAAOA,EAAK,KAAK,CAAC,EAAGG,IAAM,EAAE,MAAQA,EAAE,KAAK,GAE5CD,EAAE,UAAU,IACZF,EAAOA,EAAK,KAAK,CAAC,EAAGG,IAAMA,EAAE,MAAQ,EAAE,KAAK,GAEhDD,EAAE,MAAM,EAAE,UAAYF,EAAK,IAAI,CAACI,EAAMC,IAAU;AAAA,wBAC5BD,EAAK,OAAO;AAAA,4BACRA,EAAK,GAAG;AAAA;AAAA,oBAEhBA,EAAK,KAAK;AAAA,sBACRA,EAAK,IAAI;AAAA,oBACXA,EAAK,KAAK;AAAA;AAAA,gBAEd,EAAE,KAAK,EAAE,EACrB,aAAa,QAAQ,aAAcL,CAAG,EACtC,IAAIO,EAAQ,WAAY,CACpB,QAAS,GACT,MAAO,EACf,CAAK,CACL,CACAR,EAAO,+BAA+B,EAEtC,SAAS,iBAAiB,QAASS,GAAK,CACpC,MAAMC,EAASD,EAAE,OA2BjB,GA1BIC,EAAO,UAAU,SAAS,MAAM,IAChCN,EAAE,aAAa,GAAKA,EAAE,aAAa,EAAE,UAAU,OAAO,YAAY,EAClEM,EAAO,UAAU,IAAI,YAAY,GAEjCA,EAAO,YAAc,0BACrBV,EAAO,+BAA+B,EAEtCU,EAAO,YAAc,wBACrBV,EAAO,+BAA+B,EAEtCU,EAAO,YAAc,uBACrBV,EAAO,+BAA+B,EAEtCU,EAAO,YAAc,YACjBN,EAAE,iBAAiB,GACnBA,EAAE,MAAM,EAAE,UAAY,WACtBA,EAAE,OAAQM,CAAM,EAAE,UAAY,mCAE9BN,EAAE,MAAM,EAAE,UAAY,WACtBA,EAAE,OAAQM,CAAM,EAAE,UAAY,4BAGlCA,EAAO,WAAa,OACpB,aAAa,QAAQ,WAAYA,EAAO,aAAa,SAAS,CAAC,EAC/D,SAAS,OAAO,eAAe,GAE/BA,EAAO,UAAU,SAAS,MAAM,EAAG,CAGnC,GAFA,QAAQ,IAAIC,EAAG,OAAQD,CAAM,EAAE,CAAC,EAAGC,EAAG,OAAQD,CAAM,EAAE,CAAC,CAAC,EACxDN,EAAE,SAAS,GAAKA,EAAE,SAAS,EAAE,UAAU,OAAO,QAAQ,EAClDA,EAAE,UAAU,EAAG,CACfM,EAAO,UAAY,eACnBC,EAAG,OAAQD,CAAM,EAAE,CAAC,EAAE,UAAU,IAAI,QAAQ,EAC5CV,EAAO,aAAa,QAAQ,YAAY,CAAC,EACzC,MACH,CACD,GAAII,EAAE,UAAU,EAAG,CACfM,EAAO,UAAY,OACnBV,EAAO,aAAa,QAAQ,YAAY,CAAC,EACzC,MACH,CACDU,EAAO,UAAY,eACnBC,EAAG,OAAQD,CAAM,EAAE,CAAC,EAAE,UAAU,IAAI,QAAQ,EAC5CV,EAAO,aAAa,QAAQ,YAAY,CAAC,CAC5C,CACL,CAAC"}